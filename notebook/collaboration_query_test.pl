column("a.4","0").
column("0","0").
column("b.7","0").
column("3","0").
column("a.5","0").
column("2","0").
column("b.6","0").
column("b.5","0").
column("1","0").
column("b.4","0").
row("3","0").
row("2","0").
row("1","0").
row("0","0").
cell("0","0","0").
cell("1","1","0").
cell("2","2","0").
cell("3","3","0").
cell("4","0","1").
cell("5","1","1").
cell("6","2","1").
cell("7","3","1").
cell("8","0","2").
cell("9","1","2").
cell("10","2","2").
cell("11","3","2").
cell("12","0","3").
cell("13","1","3").
cell("14","2","3").
cell("15","3","3").
cell("9","1","2").
cell("a.16","a.4","0").
cell("a.17","a.4","1").
cell("a.18","a.4","2").
cell("a.19","a.4","3").
cell("a.20","a.5","0").
cell("a.21","a.5","1").
cell("a.22","a.5","2").
cell("a.23","a.5","3").
cell("2","2","0").
cell("6","2","1").
cell("10","2","2").
cell("14","2","3").
cell("b.16","b.4","0").
cell("b.17","b.4","1").
cell("b.18","b.4","2").
cell("b.19","b.4","3").
cell("b.20","b.5","0").
cell("b.21","b.5","1").
cell("b.22","b.5","2").
cell("b.23","b.5","3").
cell("b.24","b.6","0").
cell("b.25","b.6","1").
cell("b.26","b.6","2").
cell("b.27","b.6","3").
cell("2","2","0").
cell("6","2","1").
cell("10","2","2").
cell("14","2","3").
cell("b.26","b.6","2").
cell("b.22","b.5","2").
cell("b.18","b.4","2").
cell("b.27","b.6","3").
cell("b.23","b.5","3").
cell("b.28","b.7","0").
cell("b.29","b.7","1").
cell("b.30","b.7","2").
cell("b.31","b.7","3").
cell_values("0","0","-1","Against Method","-1").
cell_values("1","1","-1","Feyerabend, P.","-1").
cell_values("2","2","-1"," 1975","-1").
cell_values("3","3","-1","1996-02-01","-1").
cell_values("4","4","-1","Changing Order","-1").
cell_values("5","5","-1","Collins, H.M.","-1").
cell_values("6","6","-1"," 1985","-1").
cell_values("7","7","-1","2003-12-31","-1").
cell_values("8","8","-1","Exceeding Our Grasp","-1").
cell_values("9","9","-1"," P. Kyle Stanford","-1").
cell_values("10","10","-1"," 2006","-1").
cell_values("11","11","-1","Feb, 29 2008","-1").
cell_values("12","12","-1","Theory of Information","-1").
cell_values("13","13","-1"," ","-1").
cell_values("14","14","-1"," 1992","-1").
cell_values("15","15","-1","2010-31-01","-1").
cell_values("a.16","9","a.3","Stanford, P. Kyle","9").
cell_values("a.17","a.16","a.4","Feyerabend","-1").
cell_values("a.18","a.17","a.4","Collins","-1").
cell_values("a.19","a.18","a.4","Stanford","-1").
cell_values("a.20","a.19","a.4"," ","-1").
cell_values("a.21","a.20","a.4"," P.","-1").
cell_values("a.22","a.21","a.4"," H.M.","-1").
cell_values("a.23","a.22","a.4"," P. Kyle","-1").
cell_values("a.24","a.23","a.4","None","-1").
cell_values("a.25","2","a.8","1965","2").
cell_values("a.26","6","a.8","1985","6").
cell_values("a.27","10","a.8","2006","10").
cell_values("a.28","14","a.8","1992","14").
cell_values("b.16","b.16","b.4","1996","-1").
cell_values("b.17","b.17","b.4","2003","-1").
cell_values("b.18","b.18","b.4","Feb, 29 2008","-1").
cell_values("b.19","b.19","b.4","2010","-1").
cell_values("b.20","b.20","b.4","2","-1").
cell_values("b.21","b.21","b.4","12","-1").
cell_values("b.22","b.22","b.4","","-1").
cell_values("b.23","b.23","b.4","31","-1").
cell_values("b.24","b.24","b.4","1","-1").
cell_values("b.25","b.25","b.4","31","-1").
cell_values("b.26","b.26","b.4","","-1").
cell_values("b.27","b.27","b.4","1","-1").
cell_values("b.28","2","b.10","1975","2").
cell_values("b.29","6","b.10","1985","6").
cell_values("b.30","10","b.10","2006","10").
cell_values("b.31","14","b.10","1992","14").
cell_values("b.32","b.26","b.11","29","b.26").
cell_values("b.33","b.22","b.12","2","b.22").
cell_values("b.34","b.18","b.13","2008","b.18").
cell_values("b.35","b.27","b.14","31","b.27").
cell_values("b.36","b.23","b.15","1","b.23").
cell_values("b.37","b.28","b.17","21","-1").
cell_values("b.38","b.29","b.17","18","-1").
cell_values("b.39","b.30","b.17","2","-1").
cell_values("b.40","b.31","b.17","18","-1").
col_dependency("a.0","0","0","-1").
col_dependency("a.1","1","1","-1").
col_dependency("a.2","2","2","-1").
col_dependency("a.3","1","1","a.1").
col_dependency("a.4","a.4","1","a.3").
col_dependency("a.4","a.5","1","a.3").
col_dependency("a.5","a.4","a.4","a.4").
col_dependency("a.6","a.5","a.5","a.4").
col_dependency("a.8","2","2","a.2").
col_dependency("b.0","0","0","-1").
col_dependency("b.1","1","1","-1").
col_dependency("b.2","2","2","-1").
col_dependency("b.3","3","3","-1").
col_dependency("b.4","b.4","3","b.3").
col_dependency("b.4","b.5","3","b.3").
col_dependency("b.4","b.6","3","b.3").
col_dependency("b.5","b.4","b.4","b.4").
col_dependency("b.6","b.5","b.5","b.4").
col_dependency("b.7","b.4","b.4","b.5").
col_dependency("b.8","b.5","b.5","b.6").
col_dependency("b.9","b.6","b.6","b.4").
col_dependency("b.10","2","2","b.2").
col_dependency("b.11","b.6","b.6","b.9").
col_dependency("b.12","b.5","b.5","b.8").
col_dependency("b.13","b.4","b.4","b.7").
col_dependency("b.14","b.6","b.6","b.11").
col_dependency("b.15","b.5","b.5","b.12").
col_dependency("b.16","b.4","b.4","b.13").
col_dependency("b.17","b.7","b.4","b.16").
col_dependency("b.17","b.7","2","b.10").
value_derived_from("0","-1","-1").
value_derived_from("1","-1","-1").
value_derived_from("2","-1","-1").
value_derived_from("3","-1","-1").
value_derived_from("4","-1","-1").
value_derived_from("5","-1","-1").
value_derived_from("6","-1","-1").
value_derived_from("7","-1","-1").
value_derived_from("8","-1","-1").
value_derived_from("9","-1","-1").
value_derived_from("10","-1","-1").
value_derived_from("11","-1","-1").
value_derived_from("12","-1","-1").
value_derived_from("13","-1","-1").
value_derived_from("14","-1","-1").
value_derived_from("15","-1","-1").
value_derived_from("a.16","a.3","9").
value_derived_from("a.17","a.4","1").
value_derived_from("a.18","a.4","5").
value_derived_from("a.19","a.4","a.16").
value_derived_from("a.20","a.4","13").
value_derived_from("a.21","a.4","1").
value_derived_from("a.22","a.4","5").
value_derived_from("a.23","a.4","a.16").
value_derived_from("a.24","a.4","13").
value_derived_from("a.25","a.8","2").
value_derived_from("a.26","a.8","6").
value_derived_from("a.27","a.8","10").
value_derived_from("a.28","a.8","14").
value_derived_from("0","-1","-1").
value_derived_from("1","-1","-1").
value_derived_from("2","-1","-1").
value_derived_from("3","-1","-1").
value_derived_from("4","-1","-1").
value_derived_from("5","-1","-1").
value_derived_from("6","-1","-1").
value_derived_from("7","-1","-1").
value_derived_from("8","-1","-1").
value_derived_from("9","-1","-1").
value_derived_from("10","-1","-1").
value_derived_from("11","-1","-1").
value_derived_from("12","-1","-1").
value_derived_from("13","-1","-1").
value_derived_from("14","-1","-1").
value_derived_from("15","-1","-1").
value_derived_from("b.16","b.4","3").
value_derived_from("b.17","b.4","7").
value_derived_from("b.18","b.4","11").
value_derived_from("b.19","b.4","15").
value_derived_from("b.20","b.4","3").
value_derived_from("b.21","b.4","7").
value_derived_from("b.22","b.4","11").
value_derived_from("b.23","b.4","15").
value_derived_from("b.24","b.4","3").
value_derived_from("b.25","b.4","7").
value_derived_from("b.26","b.4","11").
value_derived_from("b.27","b.4","15").
value_derived_from("b.28","b.10","2").
value_derived_from("b.29","b.10","6").
value_derived_from("b.30","b.10","10").
value_derived_from("b.31","b.10","14").
value_derived_from("b.32","b.11","b.26").
value_derived_from("b.33","b.12","b.22").
value_derived_from("b.34","b.13","b.18").
value_derived_from("b.35","b.14","b.27").
value_derived_from("b.36","b.15","b.23").
value_derived_from("b.37","b.17","b.16").
value_derived_from("b.37","b.17","b.28").
value_derived_from("b.38","b.17","b.17").
value_derived_from("b.38","b.17","b.29").
value_derived_from("b.39","b.17","b.34").
value_derived_from("b.39","b.17","b.30").
value_derived_from("b.40","b.17","b.19").
value_derived_from("b.40","b.17","b.31").
column_position("0","0","-1","Book Title","-1","-1").
column_position("1","1","-1","Author","0","-1").
column_position("2","2","-1","Date","1","-1").
column_position("3","3","-1","Entrance Date","2","-1").
column_position("a.4","a.4","a.4","Author 1","1","-1").
column_position("a.5","a.5","a.4","Author 2","a.4","-1").
column_position("a.6","2","a.4","Date","a.5","2").
column_position("a.7","a.4","a.5","Last Name","1","a.4").
column_position("a.8","a.5","a.6","First Name","a.4","a.5").
column_position("b.4","b.4","b.4","Entrance Date 1","3","-1").
column_position("b.5","b.5","b.4","Entrance Date 2","b.4","-1").
column_position("b.6","b.6","b.4","Entrance Date 3","b.5","-1").
column_position("b.7","b.4","b.5","Year","3","b.4").
column_position("b.8","b.5","b.6","Month","b.4","b.5").
column_position("b.9","b.4","b.7","Entry Year","3","b.7").
column_position("b.10","b.5","b.8","Entry Month","b.4","b.8").
column_position("b.11","b.6","b.9","Entry Date","b.5","b.6").
column_position("b.12","b.7","b.17","Archived Delay","b.6","-1").

last_cell_value_not(PrevStateId):-
    cell_values(_,_,_,_,PrevStateId),
    PrevStateId!="-1".

last_cell_value(Prev2,CellId,StateId,Val,PrevStateId):-
    cell_values(Prev2,CellId,StateId,Val,PrevStateId),
    not last_cell_value_not(Prev2).

cell_value_disagreement(ValueId1,ValueId2,CellId,Val1,Val2):-
    last_cell_value(ValueId1,CellId,StateId1,Val1,PrevStateId1),
    last_cell_value(ValueId2,CellId,StateId2,Val2,PrevStateId2),
    Val1!=Val2.

cell_value_agreement(ValueId1,ValueId2,CellId,Val1,Val2):-
    last_cell_value(ValueId1,CellId,StateId1,Val1,PrevStateId1),
    last_cell_value(ValueId2,CellId,StateId2,Val2,PrevStateId2),
    Val1=Val2,
    ValueId1!=ValueId2.

cell_unchanged(ValueId1,CellId,Val1):-
    last_cell_value(ValueId1,CellId,"-1",Val1,"-1").


%#show last_cell_value_not/1.
%#show last_cell_value/5.
#show cell_value_disagreement/5.
#show cell_value_agreement/5.
#show cell_unchanged/3.


%#show cell_values/5.